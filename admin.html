<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Dashboard - Global News Network</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        background-color: #f5f5f5;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header h1 {
        color: #333;
        margin: 0;
      }

      .header-buttons {
        display: flex;
        gap: 10px;
      }

      .btn {
        background: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        text-decoration: none;
        display: inline-block;
        cursor: pointer;
      }

      .btn:hover {
        background: #0056b3;
      }

      .btn-danger {
        background: #dc3545;
      }

      .btn-danger:hover {
        background: #c82333;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-box {
        background: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .stat-box i {
        font-size: 40px;
        color: #007bff;
        margin-bottom: 10px;
      }

      .stat-number {
        font-size: 30px;
        font-weight: bold;
        color: #333;
      }

      .stat-label {
        color: #666;
        margin-top: 5px;
      }

      .menu {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-top: 30px;
      }

      .menu-item {
        background: white;
        padding: 40px;
        border-radius: 10px;
        text-align: center;
        text-decoration: none;
        color: #333;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
      }

      .menu-item:hover {
        transform: translateY(-5px);
      }

      .menu-item i {
        font-size: 50px;
        color: #007bff;
        margin-bottom: 15px;
      }

      .user-info {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .user-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: #007bff;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 30px;
        margin: 0 auto 15px;
      }

      @media (max-width: 768px) {
        .stats {
          grid-template-columns: repeat(2, 1fr);
        }
        .menu {
          grid-template-columns: 1fr;
        }
        .header {
          flex-direction: column;
          gap: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header section -->
      <div class="header">
        <div>
          <h1><i class="fas fa-tachometer-alt"></i> User Dashboard</h1>
          <p id="welcomeMessage">Welcome to your dashboard!</p>
        </div>
        <div class="header-buttons">
          <a href="index.php" class="btn">Back to Website</a>
          <button onclick="logout()" class="btn btn-danger">Sign Out</button>
        </div>
      </div>

      <!-- User Info -->
      <div class="user-info">
        <div class="user-avatar">
          <i class="fas fa-user"></i>
        </div>
        <div style="text-align: center">
          <h3 id="userFullName">User Name</h3>
          <p id="userEmail">user@example.com</p>
          <p id="userJoinDate">Member since: January 2024</p>
        </div>
      </div>

      <!-- Statistics boxes -->
      <div class="stats">
        <div class="stat-box">
          <i class="fas fa-eye"></i>
          <div class="stat-number">1,234</div>
          <div class="stat-label">Articles Read</div>
        </div>

        <div class="stat-box">
          <i class="fas fa-bookmark"></i>
          <div class="stat-number">45</div>
          <div class="stat-label">Bookmarks</div>
        </div>

        <div class="stat-box">
          <i class="fas fa-comments"></i>
          <div class="stat-number">89</div>
          <div class="stat-label">Comments</div>
        </div>

        <div class="stat-box">
          <i class="fas fa-calendar"></i>
          <div class="stat-number" id="daysSinceJoin">30</div>
          <div class="stat-label">Days Active</div>
        </div>
      </div>

      <!-- Menu options -->
      <div class="menu">
        <a href="manage-articles.php" class="menu-item">
          <i class="fas fa-newspaper"></i>
          <h3>My Articles</h3>
          <p>View and manage your saved articles</p>
        </a>

        <a href="add-article.php" class="menu-item">
          <i class="fas fa-plus"></i>
          <h3>Write Article</h3>
          <p>Create and publish new articles</p>
        </a>

        <a href="manage-categories.php" class="menu-item">
          <i class="fas fa-tags"></i>
          <h3>Categories</h3>
          <p>Manage your favorite categories</p>
        </a>

        <a href="#" onclick="showProfile()" class="menu-item">
          <i class="fas fa-user-cog"></i>
          <h3>Profile Settings</h3>
          <p>Update your account information</p>
        </a>

        <a href="#" onclick="showBookmarks()" class="menu-item">
          <i class="fas fa-bookmark"></i>
          <h3>Bookmarks</h3>
          <p>View your saved articles</p>
        </a>

        <a href="#" onclick="showNotifications()" class="menu-item">
          <i class="fas fa-bell"></i>
          <h3>Notifications</h3>
          <p>Manage your notification settings</p>
        </a>
      </div>

      <!-- Recent activity -->
      <div
        style="
          background: white;
          padding: 20px;
          border-radius: 10px;
          margin-top: 30px;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        "
      >
        <h2>Recent Activity</h2>
        <div style="display: flex; flex-direction: column; gap: 15px">
          <div
            style="
              padding: 15px;
              background: #f8f9fa;
              border-radius: 8px;
              border-left: 4px solid #007bff;
            "
          >
            <strong>Article Read:</strong> "Global Leaders Meet to Discuss
            Climate Action" <br /><small style="color: #666">2 hours ago</small>
          </div>
          <div
            style="
              padding: 15px;
              background: #f8f9fa;
              border-radius: 8px;
              border-left: 4px solid #28a745;
            "
          >
            <strong>Comment Posted:</strong> On "Revolutionary AI Breakthrough
            Changes Everything" <br /><small style="color: #666"
              >5 hours ago</small
            >
          </div>
          <div
            style="
              padding: 15px;
              background: #f8f9fa;
              border-radius: 8px;
              border-left: 4px solid #ffc107;
            "
          >
            <strong>Article Bookmarked:</strong> "Championship Finals Draw
            Record Viewership" <br /><small style="color: #666"
              >1 day ago</small
            >
          </div>
        </div>
      </div>
    </div>

    <script>
      // Check if user is logged in
      function checkLoginStatus() {
        const userSession =
          localStorage.getItem("userSession") ||
          sessionStorage.getItem("userSession");

        // if (!userSession) {
        //     // User is not logged in - redirect to login
        //     alert('Please log in to access the dashboard');
        //     window.location.href = 'user-login.html';
        //     return;
        // }

        // User is logged in - show their info
        const user = JSON.parse(userSession);
        updateUserInfo(user);
      }

      // Update user information on the page
      function updateUserInfo(user) {
        document.getElementById(
          "welcomeMessage"
        ).textContent = `Welcome back, ${user.fullName}!`;
        document.getElementById("userFullName").textContent = user.fullName;
        document.getElementById("userEmail").textContent = user.email;

        // Calculate days since join
        const joinDate = new Date(user.joinDate || "2024-01-01");
        const today = new Date();
        const daysDiff = Math.floor((today - joinDate) / (1000 * 60 * 60 * 24));
        document.getElementById("daysSinceJoin").textContent = daysDiff;
        document.getElementById(
          "userJoinDate"
        ).textContent = `Member since: ${joinDate.toLocaleDateString()}`;
      }

      // Logout function
      function logout() {
        if (confirm("Are you sure you want to sign out?")) {
          localStorage.removeItem("userSession");
          sessionStorage.removeItem("userSession");
          alert("You have been signed out successfully");
          window.location.href = "user-login.php";
        }
      }

      // Show profile settings
      function showProfile() {
        alert(
          "Profile settings feature coming soon!\n\nThis would allow you to:\n- Update personal information\n- Change password\n- Manage email preferences\n- Upload profile picture"
        );
      }

      // Show bookmarks
      function showBookmarks() {
        alert(
          "Bookmarks feature coming soon!\n\nThis would show:\n- All your saved articles\n- Organized by categories\n- Search and filter options\n- Export functionality"
        );
      }

      // Show notifications
      function showNotifications() {
        alert(
          "Notifications feature coming soon!\n\nThis would include:\n- Email notification settings\n- Push notification preferences\n- Breaking news alerts\n- Comment reply notifications"
        );
      }

      // Initialize page when it loads
      window.onload = function () {
        checkLoginStatus();
        console.log("User dashboard loaded successfully");
      };
    </script>
  </body>
</html>
