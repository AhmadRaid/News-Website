<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Category - Global News Network</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Header -->
    <header>
      <div class="header-container">
        <div class="header-top">
          <div class="logo">
            <i class="fas fa-globe"></i>
            <a href="index.php">Global News Network</a>
          </div>

          <div class="header-controls">
            <form class="search-container" action="search.php" method="GET">
              <input
                type="text"
                name="search_query"
                placeholder="Search news articles..."
              />
              <button type="submit">
                <i class="fas fa-search"></i>
              </button>
            </form>

            <button
              class="theme-toggle"
              onclick="toggleTheme()"
              title="Toggle Dark/Light Mode"
            >
              <i class="fas fa-moon" id="themeIcon"></i>
            </button>

            <div class="auth-buttons" id="authButtons">
              <!-- Content will be filled by JavaScript -->
            </div>
          </div>
        </div>

        <nav>
          <ul>
            <li><a href="index.php">Home</a></li>
            <li>
              <a href="category.php?cat=politics" id="politicsLink"
                >Politics</a
              >
            </li>
            <li>
              <a href="category.php?cat=technology" id="technologyLink"
                >Technology</a
              >
            </li>
            <li>
              <a href="category.php?cat=sports" id="sportsLink">Sports</a>
            </li>
            <li>
              <a href="category.php?cat=entertainment" id="entertainmentLink"
                >Entertainment</a
              >
            </li>
            <li><a href="about.php">About Us</a></li>
            <li><a href="contact.php">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Breadcrumb -->
    <section class="breadcrumb">
      <div class="breadcrumb-container">
        <nav class="breadcrumb-nav">
          <a href="index.php"><i class="fas fa-home"></i> Home</a>
          <span class="breadcrumb-separator">/</span>
          <span id="categoryBreadcrumb">Politics</span>
        </nav>
      </div>
    </section>

    <!-- Main Content -->
    <div class="main-container">
      <main class="content-area">
        <!-- Category Header -->
        <section class="category-header-section">
          <div class="category-hero">
            <div class="category-icon">
              <i class="fas fa-landmark" id="categoryIcon"></i>
            </div>
            <div class="category-info">
              <h1 class="category-title" id="categoryTitle">Politics</h1>
              <p class="category-description" id="categoryDescription">
                Stay informed about political developments, government policies,
                and global affairs
              </p>
              <div class="category-stats">
                <span
                  ><i class="fas fa-newspaper"></i>
                  <span id="articleCount">24</span> Articles</span
                >
                <span><i class="fas fa-clock"></i> Updated hourly</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Articles Grid -->
        <section class="articles-section">
          <div class="articles-grid" id="articlesContainer">
            <!-- Articles will be loaded by JavaScript -->
          </div>
        </section>
      </main>

      <!-- Sidebar -->
      <aside class="sidebar">
        <!-- Related Categories -->
        <section class="sidebar-section">
          <h3 class="section-title">Related Categories</h3>
          <div class="related-categories">
            <a href="category.php?cat=politics" class="category-tag">
              <i class="fas fa-landmark"></i> Politics
            </a>
            <a href="category.php?cat=technology" class="category-tag">
              <i class="fas fa-microchip"></i> Technology
            </a>
            <a href="category.php?cat=sports" class="category-tag">
              <i class="fas fa-football-ball"></i> Sports
            </a>
            <a href="category.php?cat=entertainment" class="category-tag">
              <i class="fas fa-film"></i> Entertainment
            </a>
          </div>
        </section>

        <!-- Trending in Category -->
        <section class="sidebar-section">
          <h3 class="section-title">
            Trending in <span id="trendingCategoryName">Politics</span>
          </h3>
          <div class="trending-list" id="trendingList">
            <!-- Trending articles will be loaded by JavaScript -->
          </div>
        </section>

        <!-- Advertisement -->
        <section class="ad-section">
          <h3>Advertisement</h3>
          <p>Your ad could be here!</p>
          <i class="fas fa-ad" style="font-size: 3rem; margin: 1rem 0"></i>
          <p>Contact us for advertising opportunities</p>
        </section>

        <!-- Newsletter Signup -->
        <section class="sidebar-section">
          <h3 class="section-title">Stay Updated</h3>
          <p>
            Get the latest
            <span id="newsletterCategoryName">Politics</span> news delivered to
            your inbox.
          </p>
          <div style="margin-top: 1rem">
            <form onsubmit="return handleQuickSubscribe(event)">
              <input
                type="email"
                name="email"
                placeholder="Enter your email"
                class="sidebar-input"
                required
              />
              <button type="submit" class="sidebar-btn">Subscribe</button>
            </form>
          </div>
        </section>
      </aside>
    </div>

    <!-- Footer -->
    <footer>
      <div class="footer-container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Global News Network</h3>
            <p>
              Your trusted source for breaking news, in-depth analysis, and
              comprehensive coverage of global events.
            </p>
            <div class="social-icons">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
              <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
          </div>

          <div class="footer-section">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="index.php">Home</a></li>
              <li><a href="category.php?cat=politics">Politics</a></li>
              <li><a href="category.php?cat=technology">Technology</a></li>
              <li><a href="category.php?cat=sports">Sports</a></li>
              <li>
                <a href="category.php?cat=entertainment">Entertainment</a>
              </li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>About</h3>
            <ul>
              <li><a href="about.php">About Us</a></li>
              <li><a href="contact.php">Contact</a></li>
              <li><a href="careers.php">Careers</a></li>
              <li><a href="privacy.php">Privacy Policy</a></li>
              <li><a href="terms.php">Terms of Service</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Contact Info</h3>
            <p><i class="fas fa-envelope"></i> news@globalnews.com</p>
            <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
            <p>
              <i class="fas fa-map-marker-alt"></i> 123 News Street, Media City
            </p>
          </div>
        </div>

        <div class="footer-bottom">
          <p>
            &copy; 2024 Global News Network. All rights reserved. | Designed
            with ❤️ for informed citizens worldwide.
          </p>
        </div>
      </div>
    </footer>
    <script src="assets/js/script.js"></script>
    <script>
      // Check if admin is logged in and update navigation
      function checkAdminLogin() {
        const adminLoggedIn = localStorage.getItem("adminLoggedIn");
        const adminUsername = localStorage.getItem("adminUsername");

        if (adminLoggedIn === "true" && adminUsername) {
          document.getElementById("admin-nav").style.display = "block";
          document.getElementById("public-nav").style.display = "none";
        } else {
          document.getElementById("admin-nav").style.display = "none";
          document.getElementById("public-nav").style.display = "block";
        }
      }

      // Admin logout function
      function adminLogout() {
        if (confirm("Are you sure you want to sign out?")) {
          localStorage.removeItem("adminLoggedIn");
          localStorage.removeItem("adminUsername");
          localStorage.removeItem("adminRole");
          alert("You have been signed out successfully!");
          checkAdminLogin();
        }
      }

      // Category-specific functionality
      function initializeCategory() {
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get("cat") || "world";

        // Update category information based on URL parameter
        updateCategoryInfo(category);

        // Initialize view toggle
        initializeViewToggle();

        // Initialize sort functionality
        initializeSorting();

        // Initialize load more
        initializeLoadMore();
      }

      function updateCategoryInfo(category) {
        const categoryInfo = {
          world: {
            title: "World News",
            icon: "fas fa-globe-americas",
            description:
              "Stay updated with the latest international news, global politics, and world events",
          },
          sports: {
            title: "Sports",
            icon: "fas fa-futbol",
            description:
              "Latest sports news, scores, and updates from around the world",
          },
          technology: {
            title: "Technology",
            icon: "fas fa-microchip",
            description: "Breaking tech news, innovations, and digital trends",
          },
          business: {
            title: "Business",
            icon: "fas fa-chart-line",
            description: "Business news, market updates, and economic analysis",
          },
        };

        const info = categoryInfo[category] || categoryInfo["world"];

        document.getElementById("current-category").textContent = info.title;
        document.getElementById(
          "category-title"
        ).innerHTML = `<i class="${info.icon}"></i> ${info.title}`;
        document.getElementById("category-description").textContent =
          info.description;
        document.title = `${info.title} - Global News Network`;
      }

      function initializeViewToggle() {
        const viewButtons = document.querySelectorAll(".view-btn");
        const articlesGrid = document.getElementById("articles-grid");

        viewButtons.forEach((btn) => {
          btn.addEventListener("click", function () {
            viewButtons.forEach((b) => b.classList.remove("active"));
            this.classList.add("active");

            const view = this.dataset.view;
            articlesGrid.className =
              view === "list" ? "articles-list" : "articles-grid";
          });
        });
      }

      function initializeSorting() {
        const sortSelect = document.getElementById("sort-select");
        sortSelect.addEventListener("change", function () {
          console.log("Sorting by:", this.value);
          // In a real app, this would trigger an API call to re-fetch sorted articles
        });
      }

      function initializeLoadMore() {
        const loadMoreBtn = document.getElementById("load-more-btn");
        loadMoreBtn.addEventListener("click", function () {
          this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';

          // Simulate loading delay
          setTimeout(() => {
            this.innerHTML = '<i class="fas fa-plus"></i> Load More Articles';
            console.log("More articles loaded");
          }, 1000);
        });
      }

      // Initialize everything when page loads
      document.addEventListener("DOMContentLoaded", function () {
        checkAdminLogin();
        initializeCategory();
      });
    </script>
  </body>
</html>
